# The-WI-FI-LIGHTS [Гирлянда (WI-FI матрица)]

     == Прошивка микроконтроллера ==
     
Для начала необходимо прошить микроконтроллер ESP8266 или отладочную плату на его основе NodeMCU (инструкция для windows). 
1.	По ссылке или из репозитория скачайте ESP8266Flasher (https://disk.yandex.ru/d/dSQwCgCfOg9xrA) и скачайте файл прошивки matrix16x16.bin
2. Соберите схему для прошивки модуля ESP8266 через переходник UART -> USB  или просто подключите через USB к ПК плату ESP-12E/12F.

![image](https://user-images.githubusercontent.com/125156746/226195939-0472280e-2450-4c82-9016-2b1e9b78b645.png) (источник https://www.drive2.ru/l/508484546501542169)

3. Запустите ESP8266Flasher и во вкладке config в первой строке выберите файл прошивки matrix16x16.bin, вернитесь на вкладку operation и нажмите кнопку flash и дождитесь прошивки 
4. 
![image](https://user-images.githubusercontent.com/125156746/226195994-9c8d60ad-c5fb-43d2-9177-56a1115e9586.png)

Если все прошло удачно, программа уведомит Вас в левом нижнем углу о удачной прошивке 
![image](https://user-images.githubusercontent.com/125156746/226196050-bc388f15-ff63-42d2-99ae-3203220fb458.png)

4.	После прошивки необходимо отключить/перезагрузить микроконтроллер 
    
    == Сборка схемы ==
    
    Соберите схему представленную в Гирлянада-Э3.jpg, на данный момент печатная плата еще не готова). ВАЖНО! Прошивать микроконтроллер можно и в собранной схеме
    Техничческие параметры схемы: 
    - напряжение питания 5В от блока питания (220 В -> 5 В);
    - ток потребления схемы (матрица отключена) 0,250 А; 
    - ток потребления 256 светодиодов белого цвета при максимальной яркости 4,286 А;
    
    =Подключение и работа=
    
      Скачайте и установите TheLightsWiFiMatrix.apk, включите точку доступа WI-FI и в настройках выберите имя сети "Lights", пароль "11111111" и отключите общий доступ к WI-FI. ВАЖНО! не меняйте имя и проль сети, так как микроконтроллер не сможет подключиться к другой сети.
      
      ![Screenshot_20230319-211702_Settings](https://user-images.githubusercontent.com/125156746/226198616-f73ad739-1dc2-4ac3-9591-a82e93ecd8d6.jpg)

      
      Активируйте точку доступа и подайте питание на схему и дождитесь подключения микроконтроллера. После подключения микроконтроллер будет указан в подключенных устройствах
    
    ![Screenshot_20230319-212006_Settings](https://user-images.githubusercontent.com/125156746/226198621-fb0548bf-c296-4e4e-95f7-4dee6688d87c.jpg)

![Screenshot_20230319-212018_Settings](https://user-images.githubusercontent.com/125156746/226198626-efe953dc-0f3c-4670-9a23-ccfdd77cbc66.jpg)

Запишите IP адрес подключенного микроконтроллера, в данном случае это 192.168.43.233, далее запустите приложение "Гирлянда" 
      (ВАЖНО! для пропуска подключения и для ознакомления с приложением, на стартовой странице нажмите сверху слева в углу под красным фонариком, там скрыта кнопка пропуска ввода IP адреса)
      После ввода IP адреса, нажмите на желтую дискету и адрес сохраниться, больше его вводить не нужно.
      
![Screenshot_20230319-212918](https://user-images.githubusercontent.com/125156746/226199094-9ec239fc-bcd0-4bd8-a812-21d32644f7f0.jpg)

После успешного сохранения, нажмите на кнопку "Подключение", после удачного обмена командами с микроконтроллером, появится кнопка "Далее", поздравляю, схема собрана верно, все работает!!!

![Screenshot_20230319-212933](https://user-images.githubusercontent.com/125156746/226199683-8a697150-a1c3-4017-9eb4-b3839a13c267.jpg)

    =ЗАКЛЮЧЕНИЕ=
    
    Хочу выразить благодарность Neco Ru за уроки по работе ESP и андроид. 
    Эффекты для ленты написаны самим/взяты из примеров библиотек, а так же взяты с сайта https://wokwi.com/, так же выражаю им благодарность.
    
    Буду рад предложениям по улучшению проекта, информации о найденых ошибках и при наличии матриц 8х8, 12х12 и тп. обкатку моего кода у добровольцев. Для связи пишите на почту TyingEquation@yandex.by
    
    === Найденные ошибки на данный момент ===
    
    В режиме холст, при увеличении яркости (для цветов "белый", "морозное небо" и "светло-розовый") на любое значение зависает полностью микроконтроллер 

